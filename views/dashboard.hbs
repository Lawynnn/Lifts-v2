<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {{!-- Personal Scripts --}}
    <script src="/javascript/_dashboard.js"></script>
    <script src="/javascript/_error.js"></script>
    <script src="/javascript/_loadingscreen.js"></script>

    {{!-- Security --}}
    {{!-- <script src='https://www.google.com/recaptcha/api.js'></script> --}}
    <script src="https://www.google.com/recaptcha/api.js?render=6LcWKR8iAAAAAHy2WXcpafd1_4PhaGlAgfmSp1Zm"></script>

    {{!-- Stylesheet --}}
    <link rel="stylesheet" href="/stylesheets/dashboard_style.css">

    {{!-- Fontawesome --}}
    <script src="https://kit.fontawesome.com/d978b3dc24.js" crossorigin="anonymous"></script>

    {{!-- jQuery --}}
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    {{!-- Bootstrap --}}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

    <title>{{truncate active.data.username 25 "..."}} â€“ Grode</title>
</head>
<body class="root" style="background: #2F3239;">
    <div class="loading-screen">
        {{!-- <h6>Faster than if you draw it</h6> --}}
        <div class="loader-top">
            <img src="/images/2024_logo.png" alt="">
            <span style="color: white;display: flex;flex-direction: column;justify-content: end;align-items: center;padding: 0;margin: 0;margin-left: 5px;height: 120%;">Loading...</span>
        </div>
        <div class="loader">
            <div class="inner" id="in_load"></div>
        </div>
    </div>
    <div class="left-nav">
        <div class="content">
            <button id="new-bot" onClick="openCreateBotModal(this)"><i class="fa-solid fa-square-plus"></i> Add new bot</button>
            
            <div class="centered">
                <button><i class="fa-solid fa-arrows-rotate"></i> Refresh</button>
                <div class="bots">
                    {{#each bots}}
                        {{#eq this._id ../active._id}}
                        <div class="bot active" data-bid="{{this._id}}">
                            <img src="{{#if this.data.avatar}}{{this.data.avatar}}{{else}}https://blue.kumparan.com/image/upload/fl_progressive,fl_lossy,c_fill,q_auto:best,w_640/v1643168292/qg0pobg5vwjsqxcdxhmj.png{{/if}}" alt="">
                            <h4>{{truncate this.data.username 13 "..."}}</h4>
                        </div>
                        {{else}}
                        <a class="bot" data-bid="{{this._id}}" href="/dashboard/{{this._id}}">
                            <img src="{{#if this.data.avatar}}{{this.data.avatar}}{{else}}https://blue.kumparan.com/image/upload/fl_progressive,fl_lossy,c_fill,q_auto:best,w_640/v1643168292/qg0pobg5vwjsqxcdxhmj.png{{/if}}" alt="">
                            <h4>{{truncate this.data.username 13 "..."}}</h4>
                        </a>
                        {{/eq}}
                    {{/each}}
                </div>
            </div>
            <div class="others">
                <button><i class="fa-solid fa-gem"></i> Become premium</button>
                <a href="#userinfo" class="userinfo">
                    <div class="main">
                        <img src="{{#if user.avatar}}https://cdn.discordapp.com/avatars/{{user.id}}/{{user.avatar}}.png{{else}}https://blue.kumparan.com/image/upload/fl_progressive,fl_lossy,c_fill,q_auto:best,w_640/v1643168292/qg0pobg5vwjsqxcdxhmj.png{{/if}}" alt="">
                        <div class="center">
                            <h4>{{user.username}}</h4>
                            <p>#{{user.discriminator}}</p>
                        </div>
                    </div>
                    <i class="fa-solid fa-gear"></i>
                </a>
            </div>
        </div>
    </div>
    <div class="top-nav">
        <div class="title">
            <img src="/images/2024_logo.png" alt="">
            <h2>Dashboard</h2>
        </div>
        <div class="content" id="btn_content">
            <button id="dashboard" onClick="setTab(0, this)">Dashboard</button>
            <button id="commands" onClick="setTab(1, this)">Commands</button>
            <button id="variables" onClick="setTab(2, this)">Variables</button>
            <button id="status" onClick="setTab(3, this)">Status</button>
        </div>
        <div class="logout">

        </div>
    </div>
    <div class="entire" id="e_content">
        <div class="dashboard">
            <div class="columns">
                <div class="bot-info">
                    <img src="{{#if active.data.avatar}}{{active.data.avatar}}{{else}}https://blue.kumparan.com/image/upload/fl_progressive,fl_lossy,c_fill,q_auto:best,w_640/v1643168292/qg0pobg5vwjsqxcdxhmj.png{{/if}}" alt="">
                    <div class="col">
                        <h4>{{active.data.username}}</h4>
                        <div class="rows">
                            <button onClick="copyID('{{active.data.id}}', this);"><span>{{active.data.id}}</span> <i class="fa-solid fa-copy"></i></button>
                        </div>
                        <span id="bot-time"></span>
                    </div>
                </div>
                <div class="share">
                    {{!-- <label for="use_sharecode">Use share code</label>
                    <input type="checkbox" id="use_sharedcode" name="use_sharecode"> --}}
                    <button onclick="copyShareCode('{{active.shareCode}}', this);">Copy share code <i class="fa-solid fa-copy"></i></button>
                    <button>Regenerate share code</button>
                    <form action="/api/v1/bot/{{active._id}}/share" method="post" id="sc_redeem">
                        <label id="response" for="code">Redeem share code</label>
                        <div class="submit">
                            <input placeholder="Share code" type="text" name="code" id="sharecode">
                            <button type="submit"
                            ><i class="fa-sharp fa-solid fa-arrow-right-long"></i></button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="right-columns">
                <div class="main-panel">
                    <div class="category">
                        <div class="title">
                            <h5>Hosting</h5>
                        </div>
                        <div class="content">
                            <button id="add-host-free"><i class="fa-solid fa-plus"></i> Add 30 minutes of free hosting</button>
                            <button id="add-host-ad"><i class="fa-sharp fa-solid fa-play"></i> Watch an ad for 90 minutes of host</button>
                            <div id="danger-stop-host" class="danger">
                                <button class="danger-btn" id="stop-bot-host"><i class="fa-solid fa-stop"></i> Stop hosting</button>
                            </div>
                        </div>
                    </div>
                    <div class="category">
                        <div class="title">
                            <h5>Actions</h5>
                        </div>
                        <div class="content">
                            <button id="invite-bot" onClick="openTab(`https://discord.com/api/oauth2/authorize?client_id={{active.data.id}}&permissions=8&scope=bot%20applications.commands`)"><i class="fa-solid fa-share"></i> Invite bot in your server</button>
                            <div class="danger">
                                <button class="danger-btn" id="delete-bot" data-bid="{{active._id}}"><i class="fa-solid fa-trash"></i> Delete bot</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="commands">
            <div class="command-container">

            </div>
        </div>
        <div class="variables">

        </div>
        <div class="status">

        </div>
    </div>

    
</body>
</html>

<script type="text/javascript">
    // danger: #833838
    // warning: #9d7a2b
    // success: #31785e
    // info: #3b4444
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
</script>